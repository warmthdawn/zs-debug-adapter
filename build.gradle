plugins {
    id 'org.jetbrains.kotlin.jvm' version "$kotlinVersion"
    id 'application'
}

version = projectVersion

mainClassName = 'com.warmthdawm.zsdebugadapter.ZDAMainKt'
description = 'Debug Adapter for ZenScript'

startScripts {
    applicationName = "zenscript-debug-adapter"
}


repositories {
    mavenCentral()
}

dependencies {
    implementation files("${System.properties['java.home']}/../lib/tools.jar")
    implementation 'org.eclipse.lsp4j:org.eclipse.lsp4j.debug:0.14.0'
    implementation 'org.jetbrains.kotlin:kotlin-stdlib'
    implementation 'org.jetbrains.kotlin:kotlin-reflect'
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.hamcrest:hamcrest-all:1.3'
}

test {
    testLogging {
        events 'failed'
        exceptionFormat 'short'
    }
}

run {
    standardInput = System.in
}

distZip {
    archiveFileName = "${project.name}.zip"
}

